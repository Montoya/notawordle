function cloneCells(a){a=a||document.getElementById("canvas");a=a.childNodes;for(var d=Math.sqrt(a.length),b=[],c=0;c<a.length;c++){0!=c&&0==c%d&&b.push(document.createElement("br"));var e=document.createElement("span");e.className="share-modal-cell";e.appendChild(a[c].firstChild.cloneNode(!0));b.push(e)}return b}
function copyCells(a){a=a||document.getElementById("canvas");a=a.childNodes;for(var d=Math.sqrt(a.length),b="",c=0;c<a.length;c++)0!=c&&0==c%d&&(b+="\n"),b="null"==a[c].dataset.emoji?b+"\u2b1c":b+String.fromCodePoint(parseInt(a[c].dataset.emoji,16));return b}function cellDraw(a){usingSVG?(a.textContent="",a.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 22 22"><use xlink:href="#'+activeEmoji.unicode+'"></use></svg>')):a.textContent=activeEmoji.character;a.dataset.emoji=activeEmoji.unicode}
function cellErase(a){var d=activeEmoji;activeEmoji=blankEmoji;shouldFill?cellFill(a):cellDraw(a);activeEmoji=d}function cellOver(a){drawingEnabled&&!shouldFill&&(shouldErase?cellErase(a):cellDraw(a))}function cellUp(a){shouldErase?cellErase(a):shouldFill?cellFill(a):cellDraw(a)}
function cellFill(a){var d=a.dataset.emoji;if(d!==activeEmoji.unicode){var b,c,e=[];cellDraw(a);for(e.push(a);0<e.length;)a=e.shift(),b=parseInt(a.dataset.x)-1,c=a.dataset.y,b=document.getElementById("cell-"+b+"-"+c),null!==b&&b.dataset.emoji===d&&(cellDraw(b),e.push(b)),b=parseInt(a.dataset.x)+1,c=a.dataset.y,b=document.getElementById("cell-"+b+"-"+c),null!==b&&b.dataset.emoji===d&&(cellDraw(b),e.push(b)),b=a.dataset.x,c=parseInt(a.dataset.y)-1,b=document.getElementById("cell-"+b+"-"+c),null!==b&&
b.dataset.emoji===d&&(cellDraw(b),e.push(b)),b=a.dataset.x,c=parseInt(a.dataset.y)+1,a=document.getElementById("cell-"+b+"-"+c),null!==a&&a.dataset.emoji===d&&(cellDraw(a),e.push(a))}}function initCanvas(a,d){for(var b=d.size||12,c=0;c<b;c++)for(var e=0;e<b;e++)a.insertAdjacentHTML("beforeend","<div class='cell' data-x='"+e+"' data-y='"+c+"' data-emoji='null' id='cell-"+e+"-"+c+"'' onmousedown='cellOver(this)' onmousemove='cellOver(this)' onmouseup='cellUp(this)'> </div>")}
function initFillCanvas(a){var d=activeEmoji;activeEmoji=blankEmoji;cellFill(a.firstChild);activeEmoji=d}var activeEmoji={unicode:"1f642",character:"\ud83d\ude00"},blankEmoji={unicode:"2b1c",character:"\u2b1c"},drawingEnabled=!1,usingSVG=!1,shouldFill=!1,shouldErase=!1;
window.onload=function(){document.getElementById("control-toggle-grid").addEventListener("click",function(b){"noGridLines"===document.getElementById("canvas").className?(document.getElementById("canvas").className="",b.target.className="icon-grid_on"):(document.getElementById("canvas").className="noGridLines",b.target.className="icon-grid_off");return!1});document.getElementById("control-set-paint").addEventListener("click",function(b){!0==shouldFill&&(shouldFill=!1,b.target.className="icon-edit",
document.getElementById("control-set-fill").className="icon-fill inactive");return!1});document.getElementById("control-set-fill").addEventListener("click",function(b){!1==shouldFill&&(shouldFill=!0,b.target.className="icon-fill",document.getElementById("control-set-paint").className="icon-edit inactive");return!1});document.getElementById("control-toggle-erase").addEventListener("click",function(b){!0==shouldErase?(shouldErase=!1,b.target.className="icon-delete inactive"):(shouldErase=!0,b.target.className=
"icon-delete");return!1});document.getElementById("share-button").addEventListener("click",function(b){b.preventDefault();b=document.getElementById("canvas");b=cloneCells(b);var a=document.getElementById("share-modal-content");for(emptyNode(a);0<b.length;)a.appendChild(b.shift());b=copyCells();document.getElementById("hidden-textarea").value=""+b+"\n\nMade with PixEmoji";a=document.getElementById("twitter-share");emptyNode(a);twttr.widgets.createShareButton("/",a,{count:"none",text:""+b+"\n\nMade with PixEmoji",
size:"large"}).then(function(){});document.getElementById("share-modal").className="modal active";return!1});new ClipboardJS("#copy-to-clipboard");document.getElementById("copy-to-clipboard").addEventListener("click",function(a){a.preventDefault();document.getElementById("copy-to-clipboard").dataset.tooltip="Copied!";return!1});document.getElementById("copy-to-clipboard").addEventListener("mouseleave",function(){document.getElementById("copy-to-clipboard").dataset.tooltip="Copy to clipboard"});for(var a=
document.getElementsByClassName("share-modal-close"),d=0;d<a.length;d++)a[d].addEventListener("click",function(a){a.preventDefault();document.getElementById("share-modal").className="modal";return!1});document.addEventListener("mousedown",function(){drawingEnabled=!0});document.addEventListener("mouseup",function(){drawingEnabled=!1});window.addEventListener("blur",function(){drawingEnabled=!1});initCanvas(document.getElementById("canvas"),{size:10});a={container:"#picker",json_url:"emojipanel/emojis.json",
hidden_categories:["alphabet"]};ifEmoji("\u263a")||(a.pack_url="emojipanel/img/twemoji.svg",usingSVG=!0,document.getElementById("canvas").className="using-svg");initFillCanvas(document.getElementById("canvas"));(new EmojiPanel(a)).addListener("select",function(a){activeEmoji=a})};
